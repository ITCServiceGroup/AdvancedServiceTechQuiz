<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
  <title>Test Mode - Service Tech Advanced Quiz</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="quiz-container">
    <h1 id="quiz-title">Service Tech Advanced Quiz</h1>
    <div id="ldap-field">
      <label for="ldap-input">LDAP:</label>
      <input type="text" id="ldap-input" name="ldap-input" />
      <button id="ldap-next-button">Next</button>
      <p id="ldap-error" class="error-message" style="display: none;">Please enter your LDAP to proceed.</p>
    </div>
    <div id="question-count-selection" style="display: none;">
      <h2>Select Number of Questions:</h2>
      <button data-start="0" data-end="15">
        Questions 1-15<br><span class="difficulty-label">(Easy)</span>
      </button>
      <button data-start="15" data-end="40">
        Questions 16-40<br><span class="difficulty-label">(Medium)</span>
      </button>
      <button data-start="40" data-end="50">
        Questions 41-50<br><span class="difficulty-label">(Hard)</span>
      </button>
    </div>
    <div id="quiz-content" style="display: none;">
      <div id="question-number"></div>
      <div id="question-type" class="question-type"></div>
      <div id="question-text"></div>
      <ul id="options-list"></ul>
      <!-- Optional Progress Bar -->
      <div id="progress-bar-container" style="width: 100%; background-color: #ddd; border-radius: 5px; margin-bottom: 20px;">
        <div id="progress-bar" style="width: 0%; height: 20px; background-color: #4caf50; border-radius: 5px;"></div>
      </div>
      <div id="action-buttons">
        <button id="next-button" disabled>Next</button>
      </div>
    </div>
  </div>

  <!-- Include html2pdf.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
  <!-- Your question bank -->
  <script src="questions.js"></script>

  <!-- Supabase client library (UMD) -->
  <script src="https://unpkg.com/@supabase/supabase-js/dist/umd/supabase.js"></script>
  <script>
    // Replace these with YOUR actual Supabase project credentials
    const supabaseUrl = "https://scmwpoowjhzawvmiyohz.supabase.co"; // Example URL
    const supabaseAnonKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNjbXdwb293amh6YXd2bWl5b2h6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgyNTA1NDYsImV4cCI6MjA1MzgyNjU0Nn0.Ul1dRzTe7QQ81lmgTXNZ1QEYtmWDzzUdVP-xPKZXKQI"; // Example anon key

    // Initialize Supabase client using a different variable name to avoid conflict
    const supabaseClient = supabase.createClient(supabaseUrl, supabaseAnonKey);
    
    // Expose supabaseClient globally for debugging purposes (optional)
    window.supabase = supabaseClient;
  </script>

  <!-- Your main quiz logic -->
  <script src="quiz.js"></script>
</body>
</html>